---
title: 关于闭包
date: 2019-10-21 18:18:43
categories: javascript
tags: ['js', '面试']
---

闭包是js经常遇到的一种场景，其含义是指 `能够访问其他函数作用域中变量的函数` 闭包就是一个函数，该函数可以访问其他函数作用域中的变量
比如:
```ts
function test () {
  var a = 1
  function fn () {
    console.log(a)
  }
  fn()
}
var testFn = test()
testFn()
```
其中，fn就是一个闭包函数，因为他可以访问test函数下的a变量
> 正常来说，当test函数执行完毕之后，他的作用域会被销毁，垃圾回收机制会释放其内存空间，但是实际上并没有，应为fn还存在对于test作用域下的引用，而这个引用就是闭包

再如:
很久以前我们在写jquery插件的时候
```js
// 这是一个立即执行函数，同样它也是一个闭包
(function ($) {
  // ...
})(jQuery)
```
> 该方法被执行的时候传入 `jQuery` 对象， 而 `$` 则是作为方法的参数接受 `jQuery` 的值， 代表的就是 `jQuery` 对象，为了避免全局污染

再比如:
```ts
function warp (t) {
  setTimeout(function () {
    console.log('hello 闭包')
  }, t)
}
warp(3000)
```
